{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\faculdade\\\\Desktop\\\\Algoritmos Avan\\xE7ados\\\\tecladoVirtual\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [sessionId, setSessionId] = useState(null); // Guarda o session_id\n  const [token, setToken] = useState(null); // Guarda o token JWT\n  const [sequence, setSequence] = useState([]); // Guarda a sequência gerada\n  const [inputSequence, setInputSequence] = useState([]); // Guarda a sequência do usuário\n\n  // Função para gerar uma nova sessão\n  const handleGenerateNewSession = async () => {\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/generate_session');\n      const {\n        session_id,\n        sequence,\n        token\n      } = response.data;\n\n      // Atualizando os estados com os dados recebidos da API\n      setSessionId(session_id);\n      setSequence(sequence);\n      setToken(token);\n      setInputSequence([]); // Resetando a sequência do usuário\n\n      console.log(\"Nova sessão gerada:\", response.data);\n    } catch (error) {\n      console.error(\"Erro ao gerar nova sessão:\", error);\n    }\n  };\n\n  // Função para lidar com o clique do usuário na sequência\n  const handleSequenceClick = number => {\n    setInputSequence(prevSequence => {\n      // Adiciona o número clicado à sequência do usuário\n      return [...prevSequence, number];\n    });\n  };\n\n  // Função para validar a sequência\n  const handleValidateSequence = async () => {\n    try {\n      // Verificando se a sequência do usuário está completa antes de enviar\n      if (inputSequence.length !== sequence.length) {\n        alert(\"Por favor, complete a sequência.\");\n        return;\n      }\n\n      // Enviando a sequência do usuário e o session_id para o backend\n      const response = await axios.post('http://127.0.0.1:8000/validate_sequence', {\n        session_id: sessionId,\n        responses: inputSequence // A sequência de números que o usuário clicou\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}` // Usando o token JWT\n        }\n      });\n      console.log(\"✅ Sequência validada com sucesso:\", response.data);\n    } catch (error) {\n      console.error(\"Erro na validação da sequência:\", error);\n      alert(\"Erro ao validar sequência. Tente novamente.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Teste de Sequ\\xEAncia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleGenerateNewSession,\n      children: \"Gerar Nova Sess\\xE3o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), sequence.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sequ\\xEAncia Gerada:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), sequence.map((pair, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSequenceClick(pair[0]),\n          children: pair[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSequenceClick(pair[1]),\n          children: pair[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), inputSequence.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Sua Sequ\\xEAncia:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: inputSequence.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: item\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), inputSequence.length === sequence.length && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleValidateSequence,\n      children: \"Validar Sequ\\xEAncia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"5JnfCNcgg+LpY019z/bBlwgtmLs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","App","_s","sessionId","setSessionId","token","setToken","sequence","setSequence","inputSequence","setInputSequence","handleGenerateNewSession","response","post","session_id","data","console","log","error","handleSequenceClick","number","prevSequence","handleValidateSequence","length","alert","responses","headers","Authorization","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","pair","index","item","_c","$RefreshReg$"],"sources":["C:/Users/faculdade/Desktop/Algoritmos Avançados/tecladoVirtual/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction App() {\r\n  const [sessionId, setSessionId] = useState(null);  // Guarda o session_id\r\n  const [token, setToken] = useState(null);  // Guarda o token JWT\r\n  const [sequence, setSequence] = useState([]);  // Guarda a sequência gerada\r\n  const [inputSequence, setInputSequence] = useState([]); // Guarda a sequência do usuário\r\n\r\n  // Função para gerar uma nova sessão\r\n  const handleGenerateNewSession = async () => {\r\n    try {\r\n      const response = await axios.post('http://127.0.0.1:8000/generate_session');\r\n      const { session_id, sequence, token } = response.data;\r\n      \r\n      // Atualizando os estados com os dados recebidos da API\r\n      setSessionId(session_id);\r\n      setSequence(sequence);\r\n      setToken(token);\r\n      setInputSequence([]); // Resetando a sequência do usuário\r\n      \r\n      console.log(\"Nova sessão gerada:\", response.data);\r\n    } catch (error) {\r\n      console.error(\"Erro ao gerar nova sessão:\", error);\r\n    }\r\n  };\r\n\r\n  // Função para lidar com o clique do usuário na sequência\r\n  const handleSequenceClick = (number) => {\r\n    setInputSequence((prevSequence) => {\r\n      // Adiciona o número clicado à sequência do usuário\r\n      return [...prevSequence, number];\r\n    });\r\n  };\r\n\r\n  // Função para validar a sequência\r\n  const handleValidateSequence = async () => {\r\n    try {\r\n      // Verificando se a sequência do usuário está completa antes de enviar\r\n      if (inputSequence.length !== sequence.length) {\r\n        alert(\"Por favor, complete a sequência.\");\r\n        return;\r\n      }\r\n\r\n      // Enviando a sequência do usuário e o session_id para o backend\r\n      const response = await axios.post('http://127.0.0.1:8000/validate_sequence', {\r\n        session_id: sessionId,\r\n        responses: inputSequence,  // A sequência de números que o usuário clicou\r\n      }, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,  // Usando o token JWT\r\n        },\r\n      });\r\n      \r\n      console.log(\"✅ Sequência validada com sucesso:\", response.data);\r\n    } catch (error) {\r\n      console.error(\"Erro na validação da sequência:\", error);\r\n      alert(\"Erro ao validar sequência. Tente novamente.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Teste de Sequência</h1>\r\n      <button onClick={handleGenerateNewSession}>Gerar Nova Sessão</button>\r\n      \r\n      {sequence.length > 0 && (\r\n        <div>\r\n          <h2>Sequência Gerada:</h2>\r\n          {sequence.map((pair, index) => (\r\n            <div key={index}>\r\n              <button onClick={() => handleSequenceClick(pair[0])}>{pair[0]}</button>\r\n              <button onClick={() => handleSequenceClick(pair[1])}>{pair[1]}</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {inputSequence.length > 0 && (\r\n        <div>\r\n          <h3>Sua Sequência:</h3>\r\n          <ul>\r\n            {inputSequence.map((item, index) => (\r\n              <li key={index}>{item}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {inputSequence.length === sequence.length && (\r\n        <button onClick={handleValidateSequence}>Validar Sequência</button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}